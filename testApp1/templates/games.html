{% extends 'base.html' %}

{% block title %}Games - IntegrityHoops{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/miami-heat-professional.css') }}">
{% endblock %}

{% block content %}
<div class="heat-container">
  <div class="heat-dashboard-header fade-in">
    <h1 class="text-neon-red">GAMES</h1>
    <p>Browse games, team scorecards, and player performances</p>
  </div>

  <div class="heat-card fade-in">
    <h2 class="heat-section-title">FILTERS</h2>
    <div class="heat-grid heat-grid-3">
      <div>
        <label class="heat-label">Date</label>
        <input type="date" class="heat-input" id="filter-date">
      </div>
      <div>
        <label class="heat-label">Team</label>
        <input type="text" class="heat-input" id="filter-team" placeholder="e.g. Heat">
      </div>
      <div>
        <label class="heat-label">Opponent</label>
        <input type="text" class="heat-input" id="filter-opponent" placeholder="e.g. Bucks">
      </div>
    </div>
    <div class="mt-3">
      <button class="btn-heat btn-heat-primary" id="apply-filters"><i class="fas fa-filter"></i> Apply</button>
      <button class="btn-heat btn-heat-ghost" id="clear-filters"><i class="fas fa-undo"></i> Reset</button>
    </div>
  </div>

  <div class="heat-grid heat-grid-3 mt-3">
    {% for g in games %}
    <div class="heat-card fade-in">
      <div class="heat-card-header">
        <h3>
          <span class="text-neon-red" style="font-family: 'Orbitron', sans-serif;">{{ g.team }}</span>
          <span style="opacity:0.7; margin: 0 8px;">vs</span>
          <span style="font-family: 'Rajdhani', sans-serif;">{{ g.opponent }}</span>
        </h3>
      </div>
      <div style="opacity:0.8; margin-bottom: 10px;">
        {{ (g.game_date | int) | datetimeformat if false else (g.game_date) }}
      </div>
      <div class="mb-2">
        <span class="heat-badge heat-badge-red"><i class="fas fa-fire"></i> Team: {{ g.team_score }}</span>
        <span class="heat-badge heat-badge-outline"><i class="fas fa-users"></i> Players: {{ g.player_scorecards_count }}</span>
      </div>
      <div class="mt-2">
        <a href="/games/{{ g.id }}" class="btn-heat btn-heat-primary"><i class="fas fa-eye"></i> View Details</a>
      </div>
    </div>
    {% endfor %}
  </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="{{ url_for('static', filename='js/games.js') }}"></script>
{% endblock %}


